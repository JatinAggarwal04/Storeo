# Run the build script for frontend and then start the python server
run = "npm install --prefix frontend && npm run build --prefix frontend && python main.py"
modules = ["python-3.10", "nodejs-18"]

[nix]
channel = "stable-24_05"

[unit]
language = "python3"

# Note: The above run command ensures that:
# 1. Frontend dependencies are installed
# 2. Frontend is built (creating dist folder)
# 3. Python backend starts and serves the built frontend
